<!DOCTYPE html>
<html>
<head>
  <title>First-Aid Machine</title>
</head>
<body>

<h2>Automatic First-Aid Machine</h2>

<!-- CAMERA -->
<video id="cam" width="320" height="240" autoplay></video>
<br><br>

<!-- MIC -->
<button onclick="startVoice()">ðŸŽ¤ Speak Problem</button>

<p id="out" style="font-size:18px;color:green;"></p>

<script>
// CAMERA ACCESS
navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
  document.getElementById("cam").srcObject = stream;
})
.catch(() => {
  alert("Camera permission denied");
});

// MIC + VOICE
function startVoice(){
  let r = new webkitSpeechRecognition();
  r.lang = "en-IN";
  r.start();

  r.onresult = function(e){
    let text = e.results[0][0].transcript.toLowerCase();

    if(text.includes("fever")){
      out.innerHTML = "Disease: Fever <br> Medicine: Paracetamol";
    }
    else if(text.includes("weak")){
      out.innerHTML = "Disease: Weakness <br> Medicine: ORS";
    }
    else{
      out.innerHTML = "Consult Doctor";
    }
  };
}
</script>

</body>
</html>
